<!DOCTYPE html>
<html>
    <head>
        <title>Distopik UI ;(</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
        <script type="module">
            import { io } from "https://cdn.socket.io/4.6.0/socket.io.esm.min.js";
            const socket = io();
        </script>
        <script src="jquery.knob.min.js"></script>

        <script type="text/javascript" src="./scripts.js"></script> 
        <script>
            $(async function($) {
                await $(".knob").knob({
                    'change' : async function (v) { 
                        v = Math.floor(v)*1023/100;
                        console.log("Wanted value: "+Math.floor(v));
                        await postData(Math.floor(v), "adc_val"); 
                    }
                });
            });
        </script>
    </head>
    <body>


        <input type="text" value="75" class="dial rot1" data-max="98" data-angleOffset="-120" data-angleArc="240" data-fgColor="rgb(0, 0, 255)" data-bgColor="rgb(255, 255, 0)">
        <input type="text" value="75" class="dial rot2" data-max="89" data-angleOffset="-120" data-angleArc="240">
        <script>
            $(".dial").knob({
                 'change' : function (v) { console.log(v); }
            });
        </script>

        <div class="demo" style="height:420px;width:100%;">
            <p>Motorised Potentiometer</p>  
            <div style="position:relative;">
                <div style="position:absolute;left:25px;top:25px;">
                    <input class="knob pott" data-min="0" data-max="1023" data-fgColor="rgb(170, 170, 0)" data-bgColor="#333" data-step=".01" data-cursor=false data-angleOffset="-150" data-angleArc="300" data-displayInput=false data-width="100" data-height="100" data-thickness=".3">
                </div>
                <div style="position:absolute;">
                    <input class="knob pos" data-min="0" data-max="100" data-fgColor="rgb(0, 0, 204)" data-angleOffset="-150" data-angleArc="300" data-width="150" data-height="150" data-thickness=".3">
                </div>
            </div>
        </div>

    </body>

</html> 